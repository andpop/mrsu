# О переменных в PHP и JavaScript

В разных языках программирования работа с переменными организована по-разному.

## Объявление и инициализация
### PHP
В PHP переменные предварительно не объявляются. Переменная возникает в момент инициализации (присвоения значения):
```PHP
<?php

echo $a; // PHP Notice:  Undefined variable: a
$a = 1;
```

### JavaScript
В обычном (нестрогом) режиме JavaScript переменную можно инициализировать без объявления:
``` JavaScript
a = 1;
console.log(a);  // 1
```
В строгом режиме так делать нельзя.
``` JavaScript
"use strict";
a = 1;
console.log(a);  // ReferenceError: a is not defined
```
Объявляются переменные с помощью `var`, `let` или `const`. Можно объявлять и инициализировать в одном операторе:
``` JavaScript
var a = 1;
console.log(a);  // 1
```
При этом нужно понимать, что фактически это два оператора:
``` JavaScript
var a;
a = 1;
console.log(a);  // 1
```
Объявления переменных с помощью `var` всплывают вверх блока (`let` и `const` не всплывают):
``` JavaScript
console.log(a);  // undefined

if (false) {
    var a = 1;
}

console.log(b);  // ReferenceError: b is not defined  (даже в нестрогом режиме)

if (false) {
    let b = 1;
}
```

## Области видимости

## PHP
Переменная может быть определена:
* В **глобальной** области видимости (вне функций).  Например:
```PHP
<?php

$a = 1;
```
Переменная `$a` будет доступна во всем скрипте вне функций, в том числе внутри вкладываемых с помощью `require` и `include` файлoв.
Внутри функций глобальная переменная по умолчанию недоступна! (В этом отличие с JavaScript и C).
```PHP
<?php
$a = 1;

function f()
{
    if (!isset($a)) {
        echo '$a is not set';
    }
}

f();
```
Если внутри функции нужно читать или изменять глобальную переменную, то ее нужно определить внутри функции с ключевым словам `global`:
```PHP
<?php
$a = 1;

function f()
{
    global $a;   // Ссылка на глобальную переменную

    echo $a . PHP_EOL;  // 1

    $a = 2;    // Меняем значение глобальной переменной
}

f();

echo $a . PHP_EOL;   // 2
```
Также можно использовать специальный массив `GLOBALS`:
```PHP
<?php
$a = 1;

function f()
{
    echo $GLOBALS['a'] . PHP_EOL;  // 1

    $GLOBALS['a'] = 2;    // Меняем значение глобальной переменной
}

f();

echo $a . PHP_EOL;   // 2
```

* В **локальной** области видимости определенной функции.
```
<?php
$a = 1;

function f()
{
    $a = 'cat';

    echo $a . PHP_EOL;  // cat
}

f();
```

* * *
## Различные типы областей видимости
**Лексическая область видимости** определяется статически во время написания кода. 

```
function foo() {
    console.log(a); // 2
}

function bar() {
    var a = 3;
    foo();
}

var a = 2;

bar();
```
